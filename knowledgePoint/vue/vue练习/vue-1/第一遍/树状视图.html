<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
		body {
		  font-family: Menlo, Consolas, monospace;
		  color: #444;
		}
		.item {
		  cursor: pointer;
		}
		.bold {
		  font-weight: bold;
		}
		ul {
		  padding-left: 1em;
		  line-height: 1.5em;
		  list-style-type: dot;
		}
		</style>
	</head>
	<body>
		<script type="x/template" id="item-template">
			<li>
				<div :class="{bold:idFloder}" @click="toggle" @dbclick="changeType">{{model.name}}
					<span v-if="idFloder">[{{open?'-':'+'}}]</span>
				</div>
				<ul v-show="open" v-if="idFloder">
					<item class="item" v-for="model in model.children" :model="model"></item>
					<li @click="addChild">+</li>
				</ul>
			</li>
		</script>
		<ul id="demo">
			<item class="item" :model="treeData">
				
			</item>
		</ul>
		<script src="../js/jquery-1.7.2.js"></script>
		<script src="../js/vue.js"></script>
		<script>
		var data={
			name:'My Tree',
			children:[
				{name:'hello'},
				{name:'wait'},
				{
					name:'child floder',
					children:[
					{
						{name:'child floder'},
						children:[
							{name:'hello'},
							{name:'wat'}
						]
					},
					{name:'hello'},
					{name:'wat'},
					{
						name:'child folder',
						children:[
							{name:'hello'},
							{name:'wat'}
						]
					}
						
					]
				}
			]
		}
		Vue.component('item',{
			template:'#item-template',
			props:{
				model:Object
			},
			data:function(){
				return {
					open:false
				}
			},
			computed:{
				idFolder:function(){
					return this.model.children&&this.model.children.length
				}
			},
			methods:{
				toggle:function(){
					if(this.idFolder){
						this.open=!this.open
					}
				},
				changeType:function(){
					if(!this.isFloder){
						Vue.set(this.model,children,[])
						
						
					}
				}
			}
		})
		</script>
	</body>
</html>
